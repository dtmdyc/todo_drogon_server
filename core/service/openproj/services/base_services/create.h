#pragma once
namespace openproj {
namespace service {
namespace BaseServices {
  class Create {
    // include Concerns::Contracted
    // include Shared::ServiceContext

//    attr_reader :user

//     Create(user:, contract_class: nil) {
//      this->user = user
//      this->contract_class = contract_class || default_contract_class
//    }

//     void call(params) {
//      in_context(false) {
//        create(params)
//      }
//    }

    private:

//     void create(params) {
//      attributes_call = set_attributes(params)

//      if ( attributes_call.success? &&) {
//         !attributes_call.result.save
//        attributes_call.errors = attributes_call.result.errors
//        attributes_call.success = false
//      else
//        // after_save(attributes_call)
//      }

//      attributes_call
//    }

//     void set_attributes(params) {
//      attributes_service_class
//        .new(user: user,
//             model: new_instance(params),
//             contract_class: contract_class)
//        .call(params)
//    }

//     void after_save(_attributes_call) {
//      // nothing for now but subclasses can override
//    }

//     void new_instance(_params) {
//      instance_class.new
//    }

//     void default_contract_class() {
//      "#{namespace}::CreateContract".constantize
//    }

//     void attributes_service_class() {
//      "#{namespace}::SetAttributesService".constantize
//    }

//     void instance_class() {
//      namespace.singularize.constantize
//    }

//     void namespace_() {
//      this->class.name.deconstantize
//    }
  };
}
}
}
