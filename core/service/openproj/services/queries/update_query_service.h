#pragma once
#include "./query_service.h"

namespace openproj {
class UpdateQueryService : public QueryService {

//   UpdateQueryService(**args) {
//    super(**args)

//    this->contract_class = Queries::UpdateContract
//  }

//   void call(query) {
//    result, errors = update query

//    service_result result, errors, query
//  }

  private:

//   void update(query) {
//    // menu_item = prepare_menu_item query

//    result = nil
//    errors = nil

//    query.transaction {
//      result, errors = validate_and_save(query, user)

//      if ( !result) {
//        raise ActiveRecord::Rollback
//      } else if ( menu_item && !menu_item.save) {
//        result = false
//        merge_errors(errors, menu_item)
//      }
//    }

//    [result, errors]
//  }

//   void prepare_menu_item(query) {
//    if ( query.changes.include?('name') &&) {
//       query.query_menu_item

//      // menu_item = query.query_menu_item

//      // menu_item.title = query.name

//      // menu_item
//    }
//  }

//   void merge_errors(errors, menu_item) {
//    // menu_item.errors.each { |sym, message|
//      errors.add(sym, message)
//    }
  };
}
