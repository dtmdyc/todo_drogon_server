namespace openproj {
namespace helper {
namespace TextFormattingHelper {
  // extend Forwardable
//  def_delegators :current_formatting_helper,
//                 :text_formatting_js_includes,
//                 :wikitoolbar_for

//   void preview_context(object, project = nil) {
//    if ( object.new_record?) {
//      project_preview_context(object, project)
//    } else if ( object.is_a? Message) {
//      message_preview_context(object)
//    else
//      object_preview_context(object, project)
//    }
//  }

  //TODO remove
   void current_formatting_helper() {
//    helper_class = OpenProject::TextFormatting::Formats.rich_helper
//    helper_class.new(self)
  }

//   void project_preview_context(object, project) {
//    relevant_project = if ( project) {
//                         project
//                       } else if ( object.respond_to?(:project) && object.project) {
//                         object.project
//                       }

//    return nil unless relevant_project

//    API::V3::Utilities::PathHelper::ApiV3Path
//      .project(relevant_project.id)
//  }

//   void message_preview_context(message) {
//    API::V3::Utilities::PathHelper::ApiV3Path
//      .post(message.id)
//  }

//   void object_preview_context(object, project) {
//    paths = API::V3::Utilities::PathHelper::ApiV3Path

//    if ( paths.respond_to?(object.class.name.underscore.singularize)) {
//      paths.send(object.class.name.underscore.singularize, object.id)
//    else
//      project_preview_context(object, project)
//    }
//  }
}
}
}
