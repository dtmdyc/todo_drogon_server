namespace openproj {
namespace helper {
namespace WatchersHelper {
  // Create a link to watch/unwatch object
  //
  // * :replace - a string or array of strings with css selectors that will be updated, whenever the watcher status is changed
//   void watcher_link(object, user, options = { replace: ".watcher_link", class: "watcher_link" }) {
//    options = options.with_indifferent_access
//    if ( options["replace"].blank?) { raise ArgumentError, "Missing :replace option in options hash" ;}

//    return "" unless user && user.logged? && object.respond_to?("watched_by?")

//    watched = object.watched_by?(user)

//    html_options = options
//    path = send(:"#{(watched ? "unwatch" : "watch")}_path", object_type: object.class.to_s.underscore.pluralize,
//                                                            object_id: object.id,
//                                                            replace: options.delete("replace"))
//    html_options[:class] = html_options[:class].to_s + " button"

//    method = watched ?
//      :delete :
//      :post

//    label = watched ?
//      l(:button_unwatch) :
//      l(:button_watch)

//    link_to(content_tag(:i,"", class: watched ? "button--icon icon-watched" : " button--icon icon-unwatched") + " " +
//      content_tag(:span, label, class: "button--text"), path, html_options.merge(method: method))



//  }
}
}
}
